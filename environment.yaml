name: RP_env
channels:
  - pytorch
  - nvidia
  - conda-forge
  - nodefaults  # Prevents looking in default/anaconda channels which causes conflicts
dependencies:
  - python=3.10
  - pip
  
  # --- Core Data Science ---
  - numpy
  - pandas
  - scikit-learn
  - scipy
  - networkx
  - sympy
  - matplotlib-inline
  
  # --- Gradient Boosting ---
  # Note: Installing xgboost via conda-forge is safer for compatibility
  - xgboost
  - optuna
  
  # --- Utilities ---
  - sqlalchemy
  - alembic
  - tqdm
  - colorlog
  - pyyaml
  - pyzmq
  - psutil
  - joblib
  
  # --- Jupyter/Interactive ---
  - ipykernel
  - ipython
  - jupyter_core
  - jupyter_client
  
  # --- PyTorch Stack (CUDA 11.8) ---
  # Explicitly pinning 11.8 to match your cluster drivers
  - pytorch=2.4.1
  - torchvision
  - torchaudio
  - pytorch-cuda=11.8
  - torchmetrics
  - lightning
  
  # --- Pip Specifics ---
  - pip:
    - pure_eval
    - stack_data
    
    # --- PyTorch Geometric Stack (Robust Install) ---
    # We install these via pip to strictly enforce the PyTorch 2.4.1 + CUDA 11.8 match.
    # The 'find-links' tells pip exactly where to grab the compatible wheels.
    - torch_geometric
    - --find-links https://data.pyg.org/whl/torch-2.4.1+cu118.html
    - torch_scatter
    - torch_sparse
    - torch_cluster
    - torch_spline_conv